"use strict";(self.webpackChunkmovieflix_app=self.webpackChunkmovieflix_app||[]).push([[251],{557:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var l=s(893),o=s(294),a=s(861),n=s(866),i=(s(536),s(425));const c=({movie:e})=>{let[t,s]=(0,o.useState)([]),[c,r]=(0,o.useState)(!1),[d,g]=(0,o.useState)(1),[u,h]=(0,o.useState)(1),[p,m]=(0,o.useState)(10),[v,x]=(0,o.useState)([]),[j,f]=(0,o.useState)(""),[S,N]=(0,o.useState)([]),b=[];console.log(b),console.log(d,"page"),console.log(u,"startNum"),console.log(p,"lastNum"),(0,o.useEffect)((()=>{(async()=>{try{let e=await a.Z.get(`https://api.themoviedb.org/3/discover/movie?api_key=3e85d84a2d3e58168179cf80ecdecea5&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=${d}&with_genres=${j}`);console.log(e),s(e?.data.results)}catch(e){console.log(e)}})(),((e,t)=>{for(let s=e;s<t;s++)b.push(s),console.log(e,t,s,"genearted2");x(b)})(u,p),r(!1)}),[d,u,p,j]),(0,o.useEffect)((()=>{k()}),[]);const k=async()=>{try{let e=await a.Z.get("https://api.themoviedb.org/3/genre/movie/list?api_key=3e85d84a2d3e58168179cf80ecdecea5");console.log("response",e?.data?.genres);let t=e?.data?.genres,s=t.map(((e,t)=>({...e,toggle:!1})));N(s)}catch(e){console.log(e)}};let y;return console.log(),(0,o.useEffect)((()=>{y=S.filter((e=>{if(!0===e.toggle)return e})).map((e=>e.id)),console.log(y,"stringGenreIdArr"),(e=>{e.length<1?f(""):f(e.join(","))})(y)}),[S]),(0,l.jsxs)("div",{children:[(0,l.jsx)(n.Z,{}),(0,l.jsxs)("div",{className:"MovieWrapper",children:[(0,l.jsxs)("div",{className:"filterSection",children:[(0,l.jsx)("h2",{children:"Popular Movie"}),(0,l.jsx)("div",{className:"genreFilter",children:(0,l.jsxs)("div",{className:"actualFilter",children:[(0,l.jsx)("button",{onClick:()=>{r(!c)},children:"Genre"}),c&&(0,l.jsx)("div",{className:"dropdownContainer",children:(0,l.jsx)("ul",{children:S.map(((e,t)=>(0,l.jsxs)("li",{children:[(0,l.jsx)("input",{type:"checkbox",onChange:()=>(e=>{const t=S.map(((t,s)=>e===s?{...t,toggle:!t.toggle}:t));console.log(t,"updatedgenreListModify"),N(t)})(t),checked:e.toggle}),"  ",e.name]},t)))})})]})})]}),t.length>1?(0,l.jsx)("div",{className:"listSection",children:(0,l.jsx)(i.Z,{movieList:t,movie:e})}):(0,l.jsx)("h3",{children:"No Data Found."}),(0,l.jsxs)("div",{className:"paginationSection",children:[u>1&&(0,l.jsx)("button",{className:"previousSet",onClick:()=>{m(p-10),h(10!=u?u-10:u-9),g(p-11)},children:"Previous Set"}),(0,l.jsx)("div",{className:"numberButtonSection",children:v.slice(0,10).map(((e,t)=>(0,l.jsx)("button",{className:d===e?"active":"",onClick:e=>(e=>{let t=Number(e.target.textContent);g(t)})(e),children:e},t)))}),(0,l.jsx)("button",{className:"nextSet",onClick:()=>{m(p+10),h(p),g(p)},children:"Next Set"})]})]})]})}}}]);
//# sourceMappingURL=251.blog.js.map